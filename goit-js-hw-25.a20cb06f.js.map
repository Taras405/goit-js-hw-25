{"mappings":"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","sources":["<anon>","src/main.js","src/js/gallery.js","src/js/services/getPhoto.js"],"sourcesContent":["const $74d59f19c51a9a48$var$BASE_URL = \"https://pixabay.com/api/\";\nconst $74d59f19c51a9a48$var$API_KEY = \"54018062-2ce1155c5a6740a208b2c5d37\";\nasync function $74d59f19c51a9a48$export$5caf5a6e1fbce8f1(query, page = 1, per_page = 12) {\n    const url = new URL($74d59f19c51a9a48$var$BASE_URL);\n    url.searchParams.set(\"key\", $74d59f19c51a9a48$var$API_KEY);\n    url.searchParams.set(\"q\", query);\n    url.searchParams.set(\"image_type\", \"photo\");\n    url.searchParams.set(\"orientation\", \"horizontal\");\n    url.searchParams.set(\"safesearch\", \"true\");\n    url.searchParams.set(\"page\", page);\n    url.searchParams.set(\"per_page\", per_page);\n    const res = await fetch(url.toString());\n    if (!res.ok) throw new Error(`Pixabay API error: ${res.status}`);\n    const data = await res.json();\n    return data;\n}\n\n\nconst $050486e8e3cb883c$var$form = document.getElementById(\"search-form\");\nconst $050486e8e3cb883c$var$gallery = document.querySelector(\".gallery\");\nlet $050486e8e3cb883c$var$currentQuery = \"\";\nlet $050486e8e3cb883c$var$currentPage = 1;\nconst $050486e8e3cb883c$var$PER_PAGE = 12;\nlet $050486e8e3cb883c$var$totalHits = 0;\n$050486e8e3cb883c$var$form.addEventListener(\"submit\", async (e)=>{\n    e.preventDefault();\n    const input = $050486e8e3cb883c$var$form.querySelector('input[name=\"query\"]');\n    const query = input.value.trim();\n    if (!query) return;\n    $050486e8e3cb883c$var$currentQuery = query;\n    $050486e8e3cb883c$var$currentPage = 1;\n    $050486e8e3cb883c$var$clearGallery($050486e8e3cb883c$var$gallery);\n    try {\n        const data = await (0, $74d59f19c51a9a48$export$5caf5a6e1fbce8f1)($050486e8e3cb883c$var$currentQuery, $050486e8e3cb883c$var$currentPage, $050486e8e3cb883c$var$PER_PAGE);\n        $050486e8e3cb883c$var$totalHits = data.totalHits || 0;\n        if (!data.hits || data.hits.length === 0) {\n            $050486e8e3cb883c$var$gallery.innerHTML = `<li class=\"empty\">No images found for \"${$050486e8e3cb883c$var$currentQuery}\"</li>`;\n            return;\n        }\n        $050486e8e3cb883c$var$renderPhotos($050486e8e3cb883c$var$gallery, data.hits);\n        $050486e8e3cb883c$var$maybeShowLoadMore();\n    } catch (err) {\n        console.error(err);\n        $050486e8e3cb883c$var$gallery.innerHTML = `<li class=\"error\">Error loading images. Try again later.</li>`;\n    }\n});\nfunction $050486e8e3cb883c$var$clearGallery(container) {\n    container.innerHTML = \"\";\n}\nfunction $050486e8e3cb883c$var$renderPhotos(container, photos) {\n    const fragment = document.createDocumentFragment();\n    photos.forEach((photo)=>{\n        const li = document.createElement(\"li\");\n        li.className = \"photo-card\";\n        li.innerHTML = `\n      <a class=\"photo-link\" href=\"${photo.largeImageURL}\" target=\"_blank\" rel=\"noopener noreferrer\">\n        <img src=\"${photo.webformatURL}\" alt=\"${photo.tags}\" loading=\"lazy\" />\n      </a>\n      <div class=\"info\">\n        <p><strong>Likes</strong> ${photo.likes}</p>\n        <p><strong>Views</strong> ${photo.views}</p>\n        <p><strong>Comments</strong> ${photo.comments}</p>\n        <p><strong>Downloads</strong> ${photo.downloads}</p>\n      </div>\n    `;\n        fragment.appendChild(li);\n    });\n    container.appendChild(fragment);\n}\nfunction $050486e8e3cb883c$var$maybeShowLoadMore() {\n    $050486e8e3cb883c$var$removeLoadMoreButton();\n    const loaded = $050486e8e3cb883c$var$currentPage * $050486e8e3cb883c$var$PER_PAGE;\n    if (loaded < $050486e8e3cb883c$var$totalHits) {\n        const btn = document.createElement(\"button\");\n        btn.className = \"load-more\";\n        btn.textContent = \"Load more\";\n        btn.addEventListener(\"click\", $050486e8e3cb883c$var$loadMore);\n        const li = document.createElement(\"li\");\n        li.className = \"load-more-wrap\";\n        li.appendChild(btn);\n        $050486e8e3cb883c$var$gallery.appendChild(li);\n    }\n}\nfunction $050486e8e3cb883c$var$removeLoadMoreButton() {\n    const existing = document.querySelector(\".load-more-wrap\");\n    if (existing) existing.remove();\n}\nasync function $050486e8e3cb883c$var$loadMore() {\n    $050486e8e3cb883c$var$currentPage += 1;\n    try {\n        const data = await (0, $74d59f19c51a9a48$export$5caf5a6e1fbce8f1)($050486e8e3cb883c$var$currentQuery, $050486e8e3cb883c$var$currentPage, $050486e8e3cb883c$var$PER_PAGE);\n        $050486e8e3cb883c$var$renderPhotos($050486e8e3cb883c$var$gallery, data.hits);\n        $050486e8e3cb883c$var$maybeShowLoadMore();\n        window.scrollTo({\n            top: document.body.scrollHeight,\n            behavior: \"smooth\"\n        });\n    } catch (err) {\n        console.error(err);\n        alert(\"Error loading more images\");\n    }\n}\n\n\n\n\n//# sourceMappingURL=goit-js-hw-25.a20cb06f.js.map\n","import './js/gallery.js'","import { fetchPhotos } from \"./services/getPhoto.js\";\r\n\r\nconst form = document.getElementById(\"search-form\");\r\nconst gallery = document.querySelector(\".gallery\");\r\n\r\nlet currentQuery = \"\";\r\nlet currentPage = 1;\r\nconst PER_PAGE = 12;\r\nlet totalHits = 0;\r\n\r\nform.addEventListener(\"submit\", async (e) => {\r\n    e.preventDefault();\r\n    const input = form.querySelector('input[name=\"query\"]');\r\n    const query = input.value.trim();\r\n    if (!query) return;\r\n    \r\n    currentQuery = query;\r\n    currentPage = 1;\r\n    clearGallery(gallery);\r\n    \r\n    try {\r\n        const data = await fetchPhotos(currentQuery, currentPage, PER_PAGE);\r\n        totalHits = data.totalHits || 0;\r\n        \r\n        if (!data.hits || data.hits.length === 0) {\r\n            gallery.innerHTML = `<li class=\"empty\">No images found for \"${currentQuery}\"</li>`;\r\n            return;\r\n        }\r\n        \r\n        renderPhotos(gallery, data.hits);\r\n        maybeShowLoadMore();\r\n    } catch (err) {\r\n        console.error(err);\r\n        gallery.innerHTML = `<li class=\"error\">Error loading images. Try again later.</li>`;\r\n    }\r\n});\r\n\r\nfunction clearGallery(container) {\r\n  container.innerHTML = \"\";\r\n}\r\n\r\nfunction renderPhotos(container, photos) {\r\n  const fragment = document.createDocumentFragment();\r\n\r\n  photos.forEach((photo) => {\r\n    const li = document.createElement(\"li\");\r\n    li.className = \"photo-card\";\r\n\r\n    li.innerHTML = `\r\n      <a class=\"photo-link\" href=\"${photo.largeImageURL}\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n        <img src=\"${photo.webformatURL}\" alt=\"${photo.tags}\" loading=\"lazy\" />\r\n      </a>\r\n      <div class=\"info\">\r\n        <p><strong>Likes</strong> ${photo.likes}</p>\r\n        <p><strong>Views</strong> ${photo.views}</p>\r\n        <p><strong>Comments</strong> ${photo.comments}</p>\r\n        <p><strong>Downloads</strong> ${photo.downloads}</p>\r\n      </div>\r\n    `;\r\n    fragment.appendChild(li);\r\n  });\r\n\r\n  container.appendChild(fragment);\r\n}\r\n\r\nfunction maybeShowLoadMore() {\r\n    removeLoadMoreButton();\r\n    const loaded = currentPage * PER_PAGE;\r\n\r\n  if (loaded < totalHits) {\r\n    const btn = document.createElement(\"button\");\r\n    btn.className = \"load-more\";\r\n    btn.textContent = \"Load more\";\r\n    btn.addEventListener(\"click\", loadMore);\r\n\r\n    const li = document.createElement(\"li\");\r\n    li.className = \"load-more-wrap\";\r\n    li.appendChild(btn);\r\n    gallery.appendChild(li);\r\n  }\r\n}\r\n\r\nfunction removeLoadMoreButton() {\r\n  const existing = document.querySelector(\".load-more-wrap\");\r\n  if (existing) existing.remove();\r\n}\r\n\r\nasync function loadMore() {\r\n  currentPage += 1;\r\n  try {\r\n    const data = await fetchPhotos(currentQuery, currentPage, PER_PAGE);\r\n    renderPhotos(gallery, data.hits);\r\n    maybeShowLoadMore();\r\n    window.scrollTo({ top: document.body.scrollHeight, behavior: \"smooth\" });\r\n\r\n  } catch (err) {\r\n    console.error(err);\r\n    alert(\"Error loading more images\");\r\n  }\r\n}\r\n","const BASE_URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"54018062-2ce1155c5a6740a208b2c5d37\";\r\n\r\nexport async function fetchPhotos(query, page = 1, per_page = 12) {\r\n  const url = new URL(BASE_URL);\r\n  url.searchParams.set(\"key\", API_KEY);\r\n  url.searchParams.set(\"q\", query);\r\n  url.searchParams.set(\"image_type\", \"photo\");\r\n  url.searchParams.set(\"orientation\", \"horizontal\");\r\n  url.searchParams.set(\"safesearch\", \"true\");\r\n  url.searchParams.set(\"page\", page);\r\n  url.searchParams.set(\"per_page\", per_page);\r\n\r\n  const res = await fetch(url.toString());\r\n  if (!res.ok) {\r\n    throw new Error(`Pixabay API error: ${res.status}`);\r\n  }\r\n  const data = await res.json();\r\n  return data;\r\n}\r\n"],"names":["$74d59f19c51a9a48$export$5caf5a6e1fbce8f1","query","page","per_page","url","URL","searchParams","set","res","fetch","toString","ok","Error","status","json","$050486e8e3cb883c$var$form","document","getElementById","$050486e8e3cb883c$var$gallery","querySelector","$050486e8e3cb883c$var$currentQuery","$050486e8e3cb883c$var$currentPage","$050486e8e3cb883c$var$totalHits","$050486e8e3cb883c$var$renderPhotos","container","photos","fragment","createDocumentFragment","forEach","photo","li","createElement","className","innerHTML","largeImageURL","webformatURL","tags","likes","views","comments","downloads","appendChild","$050486e8e3cb883c$var$maybeShowLoadMore","existing","remove","loaded","btn","textContent","addEventListener","$050486e8e3cb883c$var$loadMore","data","hits","window","scrollTo","top","body","scrollHeight","behavior","err","console","error","alert","e","preventDefault","input","value","trim","totalHits","length"],"version":3,"file":"goit-js-hw-25.a20cb06f.js.map"}